<!DOCTYPE html>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<html lang="en">

<head>
<link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
<title>Mklink Task</title>
</head>

<body>

<h2 id="symlink">Mklink</h2>
<p><em>Since Apache Ant 1.10.16</em>.</p>
<h3>Description</h3>
<p>Creates hardlinks, directory junctions and symbolic links on the
  windows platform.</p>
<p>The task is just a wrapper
  around <a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/mklink">mklink</a>
  and performs a few sanity checks but will not catch all restrictions
  like hardlinks or junctions not crossing volume boundaries.</p>
<p>In order to create symbolic links you need the "create symbolic
  link" permission - this can be achieved by enabling developer mode
  on the machine running Ant, running Ant with elevated permissions
  (which sounds like a bad idea) or enable the permission explicitly
  for oyur user.</p>
<h3>Parameters</h3>
<table class="attr">
  <tr>
    <th scope="col">Attribute</th>
    <th scope="col">Description</th>
    <th scope="col">Required</th>
  </tr>
  <tr>
    <td>linkType</td>
    <td>The type of link to create, may be <q>file-symlink</q>, <q>dir-symlink</q>, <q>hardlink</q>
      or <q>junction</q>.</td>
    <td>Yes unless <q>targetFile</q> is given in which case it
    defaults to <q>file-symlink</q> or <q>dir-symlink</q> depending
    on whether the target is a plain file or a directory.</td>
  </tr>
  <tr>
    <td>link</td>
    <td>The name of the link to be created, will be resolved relativ
      to the project's basedir.</td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>targetFile</td>
    <td>The resource the link should point to, will be resolved relativ
      to the project's basedir.</td>
    <td>Exactly one of <q>targetFile</q> and <q>targetText</q> must
      be given.</td>
  </tr>
  <tr>
    <td>targetText</td>
    <td>The resource the link should point to. This will be passed to
      <q>mklink</q> verbatim.</td>
    <td>Exactly one of <q>targetFile</q> and <q>targetText</q> must
      be given.</td>
  </tr>
  <tr>
    <td>overwrite</td>
    <td>Overwrite existing files or not. If overwrite is set to <q>true</q>, then any existing file,
      specified by the link attribute, will be overwritten irrespective of whether or not the
      existing file is a link. otherwise and existing file is
      considered an error and make the task fail.</td>
    <td>No; defaults to <q>false</q></td>
  </tr>
</table>

<h3>Examples</h3>

<p>Make a hardlink named <samp>foo</samp> to a resource named <samp>bar.foo</samp>
in <samp>subdir</samp>:</p>
<pre>&lt;mklink link="${dir.top}/foo" targetFile="${dir.top}/subdir/bar.foo" linktype="hardlink"/&gt;</pre>

</body>
</html>
